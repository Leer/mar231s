<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Списки и таблицы | Автоматизированный сбор больших данных в экономико-социологических исследованиях</title>
  <meta name="description" content="Списки и таблицы | Автоматизированный сбор больших данных в экономико-социологических исследованиях" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Списки и таблицы | Автоматизированный сбор больших данных в экономико-социологических исследованиях" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Списки и таблицы | Автоматизированный сбор больших данных в экономико-социологических исследованиях" />
  
  
  

<meta name="author" content="Ph.A.Upravitelev" />


<meta name="date" content="2023-11-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vectors.html"/>
<link rel="next" href="data.table-pt1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.0/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R course</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Intro</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Введение</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#запись-занятия"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#data-culture"><i class="fa fa-check"></i>Data culture</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#обо-мне"><i class="fa fa-check"></i>Обо мне</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#contacts"><i class="fa fa-check"></i>Contacts</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#mm-invite-link"><i class="fa fa-check"></i>MM invite link</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#syllabus"><i class="fa fa-check"></i>Syllabus</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#r-intro"><i class="fa fa-check"></i>R intro</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#short-history"><i class="fa fa-check"></i>Short history</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#r-ecosystem"><i class="fa fa-check"></i>R ecosystem</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#r-rstudio"><i class="fa fa-check"></i>R + RStudio</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#альтернативные-ide"><i class="fa fa-check"></i>Альтернативные IDE</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#style-guide"><i class="fa fa-check"></i>Style guide</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#синтаксис"><i class="fa fa-check"></i>Синтаксис</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#структура-выражения"><i class="fa fa-check"></i>Структура выражения</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#вывод-на-печать"><i class="fa fa-check"></i>Вывод на печать</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#присваивание"><i class="fa fa-check"></i>Присваивание</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#операторы-присвоения"><i class="fa fa-check"></i>Операторы присвоения</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#арифметические-операторы"><i class="fa fa-check"></i>Арифметические операторы</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#операторы-сравнения"><i class="fa fa-check"></i>Операторы сравнения</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#логические-операторы"><i class="fa fa-check"></i>Логические операторы</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#комментарии-и-кавычки"><i class="fa fa-check"></i>Комментарии и кавычки</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#окружение-и-подсказки"><i class="fa fa-check"></i>Окружение и подсказки</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#полезные-функции-для-работы-с-окружением"><i class="fa fa-check"></i>Полезные функции для работы с окружением</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#help"><i class="fa fa-check"></i>help</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#стандартные-ошибки-в-синтаксисе"><i class="fa fa-check"></i>Стандартные ошибки в синтаксисе</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#object-not-found"><i class="fa fa-check"></i>Object not found</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#дополнительные-материалы"><i class="fa fa-check"></i>Дополнительные материалы</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#домашнее-задание"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#организационное-mm"><i class="fa fa-check"></i>Организационное / MM</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#операторы-и-создание-векторов"><i class="fa fa-check"></i>Операторы и создание векторов</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i>Векторы</a>
<ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#запись-занятия-1"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#векторы"><i class="fa fa-check"></i>Векторы</a>
<ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#атомарные-типы-данных"><i class="fa fa-check"></i>Атомарные типы данных</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#создание-векторов"><i class="fa fa-check"></i>Создание векторов</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#приведение-типов"><i class="fa fa-check"></i>Приведение типов</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#выбор-элемента-вектора"><i class="fa fa-check"></i>Выбор элемента вектора</a>
<ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#выбор-по-номеру-позиции"><i class="fa fa-check"></i>Выбор по номеру позиции</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#выбор-по-значению"><i class="fa fa-check"></i>Выбор по значению</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#проверка-на-na"><i class="fa fa-check"></i>Проверка на NA</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#домашнее-задание-1"><i class="fa fa-check"></i>Домашнее задание</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i>Списки и таблицы</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#запись-занятия-23-сентября"><i class="fa fa-check"></i>Запись занятия 23 сентября</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#векторы-1"><i class="fa fa-check"></i>Векторы</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#поиск-по-вхождению-в-массив"><i class="fa fa-check"></i>Поиск по вхождению в массив</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#поиск-по-строке"><i class="fa fa-check"></i>Поиск по строке</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#векторизованные-операции"><i class="fa fa-check"></i>Векторизованные операции</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#recycling"><i class="fa fa-check"></i>Recycling</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#изменение-элементов-объектов"><i class="fa fa-check"></i>Изменение элементов объектов</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#списки"><i class="fa fa-check"></i>Списки</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#создание-списков"><i class="fa fa-check"></i>Создание списков</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#именованные-списки"><i class="fa fa-check"></i>Именованные списки</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#выбор-элемента-списка"><i class="fa fa-check"></i>Выбор элемента списка</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#структура-объектов"><i class="fa fa-check"></i>Структура объектов</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#таблицы"><i class="fa fa-check"></i>Таблицы</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#data.frame-vs-data.table-vs-dplyr"><i class="fa fa-check"></i>data.frame vs data.table vs dplyr</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#data.table"><i class="fa fa-check"></i>data.table</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#преимущества-data.table"><i class="fa fa-check"></i>Преимущества data.table</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#установка-и-подключение-пакета"><i class="fa fa-check"></i>Установка и подключение пакета</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#создание-data.table-таблиц"><i class="fa fa-check"></i>Создание data.table-таблиц</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#основная-формула-dt-синтаксиса"><i class="fa fa-check"></i>Основная формула dt-синтаксиса</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#создание-data.table-таблиц-1"><i class="fa fa-check"></i>Создание data.table-таблиц</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#выбор-строки"><i class="fa fa-check"></i>Выбор строки</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#дополнительные-материалы-1"><i class="fa fa-check"></i>Дополнительные материалы</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#домашнее-задание-2"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#векторы-2"><i class="fa fa-check"></i>векторы</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#списки-1"><i class="fa fa-check"></i>списки</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#таблицы.-импорт-данных"><i class="fa fa-check"></i>таблицы. импорт данных</a></li>
<li class="chapter" data-level="" data-path="lists.html"><a href="lists.html#работа-со-строками"><i class="fa fa-check"></i>работа со строками</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html"><i class="fa fa-check"></i>data.table pt1</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#запись-занятия-2"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#разбор-домашней-работы"><i class="fa fa-check"></i>Разбор домашней работы</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#списки-2"><i class="fa fa-check"></i>списки</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#таблицы.-импорт-данных-1"><i class="fa fa-check"></i>таблицы. импорт данных</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#работа-со-строками-1"><i class="fa fa-check"></i>работа со строками</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#основная-формула-dt-синтаксиса-1"><i class="fa fa-check"></i>Основная формула dt-синтаксиса</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#создание-data.table-таблиц-2"><i class="fa fa-check"></i>Создание data.table-таблиц</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#выбор-строки-1"><i class="fa fa-check"></i>Выбор строки</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#работа-с-колонками"><i class="fa fa-check"></i>Работа с колонками</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#обращение-к-колонке"><i class="fa fa-check"></i>Обращение к колонке</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#выбор-нескольких-колонок"><i class="fa fa-check"></i>Выбор нескольких колонок</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#cоздание-колонок"><i class="fa fa-check"></i>Cоздание колонок</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#модификация-колонок"><i class="fa fa-check"></i>Модификация колонок</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#удаление-колонок"><i class="fa fa-check"></i>Удаление колонок</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#вычисления-по-одной-колонке"><i class="fa fa-check"></i>Вычисления по одной колонке</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#группировка-по-нескольким-полям"><i class="fa fa-check"></i>Группировка по нескольким полям</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#sd-advanced"><i class="fa fa-check"></i>.SD (Advanced)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#полезные-ссылки"><i class="fa fa-check"></i>Полезные ссылки</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#домашнее-задание-3"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#работа-с-колонками-1"><i class="fa fa-check"></i>работа с колонками</a></li>
<li class="chapter" data-level="" data-path="data.table-pt1.html"><a href="data.table-pt1.html#для-тех-кто-любит-посложнее"><i class="fa fa-check"></i>для тех, кто любит посложнее</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html"><i class="fa fa-check"></i>data.table pt2</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#запись-занятия-3"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#разбор-домашней-работы-1"><i class="fa fa-check"></i>Разбор домашней работы</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#работа-с-колонками-2"><i class="fa fa-check"></i>работа с колонками</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#для-тех-кто-любит-посложнее-1"><i class="fa fa-check"></i>для тех, кто любит посложнее</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#применение-функций"><i class="fa fa-check"></i>Применение функций</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#dataset"><i class="fa fa-check"></i>dataset</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#применение-функций-1"><i class="fa fa-check"></i>Применение функций</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#количество-строк-и-значений-.n-uniquen"><i class="fa fa-check"></i>Количество строк и значений: .N, uniqueN</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#ветвления-ifelse-fifelse"><i class="fa fa-check"></i>Ветвления: ifelse / fifelse</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#агрегации"><i class="fa fa-check"></i>Агрегации</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#вычисления-по-одной-колонке-1"><i class="fa fa-check"></i>Вычисления по одной колонке</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#вычисления-по-нескольким-колонкам"><i class="fa fa-check"></i>Вычисления по нескольким колонкам</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#группировка-по-нескольким-полям-1"><i class="fa fa-check"></i>Группировка по нескольким полям</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#манипуляции-с-таблицами"><i class="fa fa-check"></i>Манипуляции с таблицами</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#rbind"><i class="fa fa-check"></i>rbind()</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#cbind"><i class="fa fa-check"></i>cbind()</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#домашнее-задание-4"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#level-1-iatytd"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#level-2-hntr"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#level-3-hmp"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#level-4-uv"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt2.html"><a href="data.table-pt2.html#level-5-n"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html"><i class="fa fa-check"></i>data.table pt3</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#запись-занятия-4"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#разбор-домашней-работы-2"><i class="fa fa-check"></i>Разбор домашней работы</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-3-hmp-1"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-4-uv-1"><i class="fa fa-check"></i>level 4 (UV)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#манипуляции-с-таблицами-1"><i class="fa fa-check"></i>Манипуляции с таблицами</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#merge"><i class="fa fa-check"></i>merge()</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#long-wide-форматы-данных"><i class="fa fa-check"></i>long / wide-форматы данных</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#dcast"><i class="fa fa-check"></i>dcast()</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#melt"><i class="fa fa-check"></i>melt()</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#соотношение-list-и-в-операциях-над-колонками."><i class="fa fa-check"></i>Соотношение list() и <code>:=</code> в операциях над колонками.</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#домашнее-задание-5"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-1-iatytd-1"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-2-hntr-1"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-3-hmp-2"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-4-uv-2"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="data.table-pt3.html"><a href="data.table-pt3.html#level-5-n-1"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html"><i class="fa fa-check"></i>dt + ETL</a>
<ul>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#запись-занятия-5"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#разбор-домашней-работы-3"><i class="fa fa-check"></i>Разбор домашней работы</a>
<ul>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-3-hmp-3"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-4-uv-3"><i class="fa fa-check"></i>level 4 (UV)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#etl"><i class="fa fa-check"></i>ETL</a>
<ul>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#чтение-и-запись-текстовых-файлов"><i class="fa fa-check"></i>Чтение и запись текстовых файлов</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#чтение-файлов-ms-excel"><i class="fa fa-check"></i>Чтение файлов MS Excel</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#чтение-файлов-spss"><i class="fa fa-check"></i>Чтение файлов SPSS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#дополнительная-литература"><i class="fa fa-check"></i>Дополнительная литература</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#домашнее-задание-6"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-1-iatytd-2"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-2-hntr-2"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-3-hmp-4"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-4-uv-4"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="dt-etl.html"><a href="dt-etl.html#level-5-n-2"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i>Dataviz</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#запись-занятия-6"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#intro-1"><i class="fa fa-check"></i>Intro</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#инфографика"><i class="fa fa-check"></i>Инфографика</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#типы-графиков"><i class="fa fa-check"></i>Типы графиков</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#scatter-plot"><i class="fa fa-check"></i>scatter plot</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#line-chart"><i class="fa fa-check"></i>line chart</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#bar-chart"><i class="fa fa-check"></i>bar chart</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#grouped-bar-chart"><i class="fa fa-check"></i>grouped bar chart</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#stacked-bar-chart"><i class="fa fa-check"></i>stacked bar chart</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#area-plot"><i class="fa fa-check"></i>area plot</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#area-plot-percentiles"><i class="fa fa-check"></i>area plot (percentiles)</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#boxplot"><i class="fa fa-check"></i>boxplot</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#violin-plot"><i class="fa fa-check"></i>violin plot</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#heatmap"><i class="fa fa-check"></i>heatmap</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#geo-plots-leaflet-map"><i class="fa fa-check"></i>geo plots: leaflet map</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#d3-data-driven-documents"><i class="fa fa-check"></i>d3 (Data-Driven Documents)</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#dashboards"><i class="fa fa-check"></i>Dashboards</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#focuses"><i class="fa fa-check"></i>Focuses</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#data-looks-better-naked"><i class="fa fa-check"></i>Data looks better naked</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#the-data-ink-ratio"><i class="fa fa-check"></i>the data-ink ratio</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#clear-off-the-table"><i class="fa fa-check"></i>clear-off-the-table</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#principles"><i class="fa fa-check"></i>Principles</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#misleading-charts"><i class="fa fa-check"></i>Misleading charts</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#плохой-дизайн"><i class="fa fa-check"></i>Плохой дизайн</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#арифметические-ошибки"><i class="fa fa-check"></i>Арифметические ошибки</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#манипуляция-вниманием"><i class="fa fa-check"></i>Манипуляция вниманием</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#неверный-масштаб"><i class="fa fa-check"></i>Неверный масштаб</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#несоответствие-графиков-цифрам"><i class="fa fa-check"></i>Несоответствие графиков цифрам</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#полезные-материалы"><i class="fa fa-check"></i>Полезные материалы</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html"><i class="fa fa-check"></i>ggplot2 pt1</a>
<ul>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#запись-занятий"><i class="fa fa-check"></i>Запись занятий</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#решение-домашней-работы"><i class="fa fa-check"></i>Решение домашней работы</a>
<ul>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#level-1-iatytd-3"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#level-2-hntr-3"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#level-3-hmp-5"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#ggplot2-package"><i class="fa fa-check"></i>ggplot2 package</a>
<ul>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#компоненты-графика"><i class="fa fa-check"></i>Компоненты графика</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#базовые-геомы"><i class="fa fa-check"></i>Базовые геомы</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#геомы-визуальных-акцентов"><i class="fa fa-check"></i>геомы визуальных акцентов</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#дополнительные-материалы-2"><i class="fa fa-check"></i>Дополнительные материалы</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#домашнее-задание-7"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#задание-1"><i class="fa fa-check"></i>Задание 1</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#задание-2"><i class="fa fa-check"></i>Задание 2</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#задание-3"><i class="fa fa-check"></i>Задание 3</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#задание-4"><i class="fa fa-check"></i>Задание 4</a></li>
<li class="chapter" data-level="" data-path="ggplot2-pt1.html"><a href="ggplot2-pt1.html#задание-5"><i class="fa fa-check"></i>Задание 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html"><i class="fa fa-check"></i>HW 1</a>
<ul>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#общие-замечания"><i class="fa fa-check"></i>Общие замечания</a></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#задание-1.-дома-в-игре-престолов."><i class="fa fa-check"></i>Задание 1. Дома в Игре престолов.</a>
<ul>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#импорт-данных"><i class="fa fa-check"></i>импорт данных</a></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#чистка-данных"><i class="fa fa-check"></i>чистка данных</a></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#график-численности-кланов"><i class="fa fa-check"></i>график численности кланов</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#задание-2.-агрессивность-персонажей-в-книгах-о-гарри-поттере."><i class="fa fa-check"></i>Задание 2. Агрессивность персонажей в книгах о Гарри Поттере.</a></li>
<li class="chapter" data-level="" data-path="hw-1.html"><a href="hw-1.html#задание-3.-динамика-среднегодовой-температуры-в-период-1750-2015"><i class="fa fa-check"></i>Задание 3. Динамика среднегодовой температуры в период 1750-2015</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Автоматизированный сбор больших данных в экономико-социологических исследованиях</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lists" class="section level1 unnumbered hasAnchor">
<h1>Списки и таблицы<a href="lists.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="запись-занятия-23-сентября" class="section level2 unnumbered hasAnchor">
<h2>Запись занятия 23 сентября<a href="lists.html#запись-занятия-23-сентября" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/WxkDoWdEiUw?si=JFHA51Pct6sEve9o" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</div>
<div id="векторы-1" class="section level2 hasAnchor">
<h2>Векторы<a href="lists.html#векторы-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="поиск-по-вхождению-в-массив" class="section level3 unnumbered hasAnchor">
<h3>Поиск по вхождению в массив<a href="lists.html#поиск-по-вхождению-в-массив" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Нередко встречаются ситуации, когда необходимо выбрать значения вектора, которые присутствуют в другом векторе. Например, из списка группы студентов выбрать тех, кто указан в списке недопущенных к сессии. Для этого используется выражение <code>x %in% y</code>. Оператор <code>%in%</code> проверяет, встречается ли каждый элемент вектора <code>х</code> в векторе <code>y</code>. Как и в сравнении по условию, в результате получается логический вектор, который можно использовать для выделения элементов. Выделенные элементы можно записать в отдельный объект.</p>
<p>Например:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="lists.html#cb47-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb47-2"><a href="lists.html#cb47-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb47-3"><a href="lists.html#cb47-3" tabindex="-1"></a></span>
<span id="cb47-4"><a href="lists.html#cb47-4" tabindex="-1"></a><span class="co"># сравниваем элементы списков</span></span>
<span id="cb47-5"><a href="lists.html#cb47-5" tabindex="-1"></a>x <span class="sc">%in%</span> y</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="lists.html#cb49-1" tabindex="-1"></a><span class="co"># выделяем те элементы списка х, которые есть в у</span></span>
<span id="cb49-2"><a href="lists.html#cb49-2" tabindex="-1"></a>x[x <span class="sc">%in%</span> y]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="lists.html#cb51-1" tabindex="-1"></a><span class="co"># записываем результат в отдельный объект</span></span>
<span id="cb51-2"><a href="lists.html#cb51-2" tabindex="-1"></a>z <span class="ot">&lt;-</span> x[x <span class="sc">%in%</span> y]</span>
<span id="cb51-3"><a href="lists.html#cb51-3" tabindex="-1"></a><span class="fu">str</span>(z)</span></code></pre></div>
<pre><code>##  num 2</code></pre>
<p><br></p>
</div>
<div id="поиск-по-строке" class="section level3 unnumbered hasAnchor">
<h3>Поиск по строке<a href="lists.html#поиск-по-строке" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Для поиска по строковым записям (например, найти пользователя по ФИО, когда известно только имя) используют функцию <code>grep()</code> или <code>grepl()</code>. Первая функция возвращает номера элементов (или строк), в которых нашлось искомое строковое значение. Вторая функция возвращает результат проверки кадого элемента, включает ли он в себя искомый набор символов.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="lists.html#cb53-1" tabindex="-1"></a><span class="co"># вектор строковых значений</span></span>
<span id="cb53-2"><a href="lists.html#cb53-2" tabindex="-1"></a>month.name</span></code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;       &quot;June&quot;     
##  [7] &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="lists.html#cb55-1" tabindex="-1"></a><span class="co"># ищем значения, в которых есть буква r</span></span>
<span id="cb55-2"><a href="lists.html#cb55-2" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&#39;r&#39;</span>, month.name)</span></code></pre></div>
<pre><code>## [1]  1  2  3  4  9 10 11 12</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="lists.html#cb57-1" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&#39;r&#39;</span>, month.name)</span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<p>Первый аргумент — это паттерн регулярного выражения (если не используется аргумент <code>fixed = TRUE</code>):</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="lists.html#cb59-1" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;user.1&#39;</span>, <span class="st">&#39;user2&#39;</span>)</span>
<span id="cb59-2"><a href="lists.html#cb59-2" tabindex="-1"></a></span>
<span id="cb59-3"><a href="lists.html#cb59-3" tabindex="-1"></a><span class="co"># в регэкспах точка -- служебный символ, его надо экранировать двумя слэшами</span></span>
<span id="cb59-4"><a href="lists.html#cb59-4" tabindex="-1"></a>vec[<span class="fu">grep</span>(<span class="st">&#39;</span><span class="sc">\\</span><span class="st">.&#39;</span>, vec)]</span></code></pre></div>
<pre><code>## [1] &quot;user.1&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="lists.html#cb61-1" tabindex="-1"></a><span class="co"># или указывать, что ищем именно точку, а не регэксп</span></span>
<span id="cb61-2"><a href="lists.html#cb61-2" tabindex="-1"></a>vec[<span class="fu">grep</span>(<span class="st">&#39;.&#39;</span>, vec, <span class="at">fixed =</span> <span class="cn">TRUE</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;user.1&quot;</code></pre>
</div>
</div>
<div id="векторизованные-операции" class="section level2 unnumbered hasAnchor">
<h2>Векторизованные операции<a href="lists.html#векторизованные-операции" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Векторизация — наверное, одна из самых примечательных и важных особенностей R как языка программирования и инструмента работы с данными. Фраза <code>векторизованная функция</code> означает, что операции производятся сразу над каждым элементом вектора. То есть там, где в других языках программирования (например, в Python) необходимо писать цикл или лямбда-функцию, в R можно просто передать вектор в аргументы функции.</p>
<p>Например, функция <code>round()</code>, если в качестве аргумента использовать вектор значений, округлит до нужного знака каждый элемент вектора:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="lists.html#cb63-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb63-2"><a href="lists.html#cb63-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  0.4641948 -0.6411074 -0.8971890  0.9559499  1.7081389</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="lists.html#cb65-1" tabindex="-1"></a><span class="fu">round</span>(x, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1]  0.464 -0.641 -0.897  0.956  1.708</code></pre>
<p>В какой-то мере к векторизованным операциям можно отнести и простые арифметические операции над векторами. В частности, если мы попробуем сложить или умножить векторы одинаковой длины, то произойдет попарные сумма или произведение элементов векторов:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="lists.html#cb67-1" tabindex="-1"></a><span class="co"># создаем векторы</span></span>
<span id="cb67-2"><a href="lists.html#cb67-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb67-3"><a href="lists.html#cb67-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb67-4"><a href="lists.html#cb67-4" tabindex="-1"></a></span>
<span id="cb67-5"><a href="lists.html#cb67-5" tabindex="-1"></a><span class="co"># смотрим значения векторов</span></span>
<span id="cb67-6"><a href="lists.html#cb67-6" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 5</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="lists.html#cb69-1" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 7 9</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="lists.html#cb71-1" tabindex="-1"></a><span class="co"># сумма векторов</span></span>
<span id="cb71-2"><a href="lists.html#cb71-2" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>## [1]  8 14</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="lists.html#cb73-1" tabindex="-1"></a><span class="co"># произведение векторов</span></span>
<span id="cb73-2"><a href="lists.html#cb73-2" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>## [1]  7 45</code></pre>
</div>
<div id="recycling" class="section level2 unnumbered hasAnchor">
<h2>Recycling<a href="lists.html#recycling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>В том случае, когда в операции используется два вектора разной длины, используется правило ресайклинга (recycling). То есть короткий вектор начинает использоваться с начала, и так до тех пор, пока длины векторов не сойдутся.</p>
<p>Например, мы хотим перемножить два вектора разной длины:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="lists.html#cb75-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb75-2"><a href="lists.html#cb75-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="lists.html#cb77-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb77-2"><a href="lists.html#cb77-2" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 3 5 7</code></pre>
<p>При перемножении операция элементы каждого вектора берутся попарно. Так как в векторе <code>y</code> всего три элемента, а в векторе <code>x</code> — пять, то элементы вектора <code>y</code> начинают использоваться повторно начиная с самого первого:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="lists.html#cb79-1" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>## Warning in x * y: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1]  3 10 21 12 25</code></pre>
<p>При этом интерпретатор R нам выдаст предупреждение, что длины не совпадают:</p>
<pre><code>Warning message:
In x * y : longer object length is not a multiple of shorter object length</code></pre>
<p>Если использовать два вектора кратной длины (например, 2 и 4 элемента), то короткий вектор будет переиспользован, но предупреждения не будет:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="lists.html#cb83-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb83-2"><a href="lists.html#cb83-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb83-3"><a href="lists.html#cb83-3" tabindex="-1"></a></span>
<span id="cb83-4"><a href="lists.html#cb83-4" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>## [1]  1 10  3 20</code></pre>
<p>Если учесть, что в R нет скаляров и <code>x &lt;- 5</code> это создание вектора из одного элемента (единичного вектора), то умножение вектора на какое-то значение — то же самое умножение векторов с переиспользованием короткого вектора.</p>
</div>
<div id="изменение-элементов-объектов" class="section level2 unnumbered hasAnchor">
<h2>Изменение элементов объектов<a href="lists.html#изменение-элементов-объектов" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>В задачах на изменение значения элемента векторов, списков или таблиц используется следующая логика - указывается элемент объекта, с которым надо произвести какое-то действие, и этому элементу присваивается новое значение. Например, у нас есть вектор из 10 значений в случайном порядке от 1 до 10, и мы хотим возвести в квадрат третий элемент:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="lists.html#cb85-1" tabindex="-1"></a><span class="co"># задаем зерно для псевдослучайной генерации</span></span>
<span id="cb85-2"><a href="lists.html#cb85-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb85-3"><a href="lists.html#cb85-3" tabindex="-1"></a></span>
<span id="cb85-4"><a href="lists.html#cb85-4" tabindex="-1"></a><span class="co"># создаем вектор</span></span>
<span id="cb85-5"><a href="lists.html#cb85-5" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">10</span>)</span>
<span id="cb85-6"><a href="lists.html#cb85-6" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  int [1:10] 10 6 5 4 1 8 2 7 9 3</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="lists.html#cb87-1" tabindex="-1"></a><span class="co"># возводим в квадрат третий элемент:</span></span>
<span id="cb87-2"><a href="lists.html#cb87-2" tabindex="-1"></a>x[<span class="dv">3</span>] <span class="ot">&lt;-</span> x[<span class="dv">3</span>] <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb87-3"><a href="lists.html#cb87-3" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  num [1:10] 10 6 25 4 1 8 2 7 9 3</code></pre>
<p>Создание новых элементов или удаление уже существующих производятся аналогично - указывается индекс элемента (или его название, если применимо), и присваивается какое-то значение. Для создания элемента - любой объект, если он не нарушает уже существующую структуру (например, в таблице на пять строк нельзя создать колонку с шестью значениями), если в векторе создавать значение иного типа, чем был, то все значения будут преобразованы к более общему по правилам преобразования.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="lists.html#cb89-1" tabindex="-1"></a><span class="co"># меняем 9 элемент вектора на &#39;x&#39;, текстовый</span></span>
<span id="cb89-2"><a href="lists.html#cb89-2" tabindex="-1"></a>x[<span class="dv">9</span>] <span class="ot">&lt;-</span> <span class="st">&#39;x&#39;</span></span>
<span id="cb89-3"><a href="lists.html#cb89-3" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  chr [1:10] &quot;10&quot; &quot;6&quot; &quot;25&quot; &quot;4&quot; &quot;1&quot; &quot;8&quot; &quot;2&quot; &quot;7&quot; &quot;x&quot; &quot;3&quot;</code></pre>
<p>Для удаления элемента вектора можно просто сделать переприсвоение этому объекту тех же значений, за исключением того, которое требуется удалить:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="lists.html#cb91-1" tabindex="-1"></a><span class="co"># удалим 3 значение вектора x</span></span>
<span id="cb91-2"><a href="lists.html#cb91-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb91-3"><a href="lists.html#cb91-3" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>##  chr [1:9] &quot;10&quot; &quot;6&quot; &quot;4&quot; &quot;1&quot; &quot;8&quot; &quot;2&quot; &quot;7&quot; &quot;x&quot; &quot;3&quot;</code></pre>
</div>
<div id="списки" class="section level2 unnumbered hasAnchor">
<h2>Списки<a href="lists.html#списки" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Список элементов разных типов - векторов, таблиц, атомарных типов, других листов, функций и так далее. Длина и тип объекта в списке значения не имеет.</p>
<div id="создание-списков" class="section level3 unnumbered hasAnchor">
<h3>Создание списков<a href="lists.html#создание-списков" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Для создания списка используется команда <code>list()</code>, где в аргументах через запятую перечисляются все элементы, которые необходимо включить в лист. Например:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="lists.html#cb93-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">13</span>, <span class="at">to =</span> <span class="dv">0</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb93-2"><a href="lists.html#cb93-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">&#39;c&#39;</span>, <span class="at">times =</span> <span class="dv">3</span>)</span>
<span id="cb93-3"><a href="lists.html#cb93-3" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb93-4"><a href="lists.html#cb93-4" tabindex="-1"></a></span>
<span id="cb93-5"><a href="lists.html#cb93-5" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(x, y, z)</span>
<span id="cb93-6"><a href="lists.html#cb93-6" tabindex="-1"></a><span class="fu">str</span>(my_list)</span></code></pre></div>
<pre><code>## List of 3
##  $ : num [1:5] 13 10 7 4 1
##  $ : chr [1:3] &quot;c&quot; &quot;c&quot; &quot;c&quot;
##  $ : logi TRUE</code></pre>
</div>
<div id="именованные-списки" class="section level3 unnumbered hasAnchor">
<h3>Именованные списки<a href="lists.html#именованные-списки" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Помимо простого объединения объектов в списки и последующим вызовом элементов по номеру в списке, можно создавать именованные списки, где каждые элементы будут иметь заданное название. Например,</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="lists.html#cb95-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">13</span>, <span class="at">to =</span> <span class="dv">0</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb95-2"><a href="lists.html#cb95-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">&#39;c&#39;</span>, <span class="at">times =</span> <span class="dv">3</span>)</span>
<span id="cb95-3"><a href="lists.html#cb95-3" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb95-4"><a href="lists.html#cb95-4" tabindex="-1"></a></span>
<span id="cb95-5"><a href="lists.html#cb95-5" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">seq_example =</span> x, </span>
<span id="cb95-6"><a href="lists.html#cb95-6" tabindex="-1"></a>                <span class="at">rep_example =</span> y, </span>
<span id="cb95-7"><a href="lists.html#cb95-7" tabindex="-1"></a>                <span class="at">atomic_example =</span> z)</span>
<span id="cb95-8"><a href="lists.html#cb95-8" tabindex="-1"></a><span class="fu">print</span>(my_list)</span></code></pre></div>
<pre><code>## $seq_example
## [1] 13 10  7  4  1
## 
## $rep_example
## [1] &quot;c&quot; &quot;c&quot; &quot;c&quot;
## 
## $atomic_example
## [1] TRUE</code></pre>
</div>
<div id="выбор-элемента-списка" class="section level3 unnumbered hasAnchor">
<h3>Выбор элемента списка<a href="lists.html#выбор-элемента-списка" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Выбор элементов списка также использует выбор по номеру элемента. Следует учитывать, что для списков несколько различается поведение операторов <code>[</code> и <code>[[</code>. Так, оператор <code>[</code> позволяет выделить элемент списка в виде отдельного списка:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="lists.html#cb97-1" tabindex="-1"></a><span class="co"># создадим список</span></span>
<span id="cb97-2"><a href="lists.html#cb97-2" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">seq_example =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">13</span>, <span class="at">to =</span> <span class="dv">0</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb97-3"><a href="lists.html#cb97-3" tabindex="-1"></a>                <span class="at">rep_example =</span> <span class="fu">rep</span>(<span class="at">x =</span> <span class="st">&#39;c&#39;</span>, <span class="at">times =</span> <span class="dv">3</span>), </span>
<span id="cb97-4"><a href="lists.html#cb97-4" tabindex="-1"></a>                <span class="at">atomic_example =</span> <span class="cn">TRUE</span>)</span>
<span id="cb97-5"><a href="lists.html#cb97-5" tabindex="-1"></a><span class="fu">str</span>(my_list)</span></code></pre></div>
<pre><code>## List of 3
##  $ seq_example   : num [1:5] 13 10 7 4 1
##  $ rep_example   : chr [1:3] &quot;c&quot; &quot;c&quot; &quot;c&quot;
##  $ atomic_example: logi TRUE</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="lists.html#cb99-1" tabindex="-1"></a><span class="co"># выберем первый элемент списка</span></span>
<span id="cb99-2"><a href="lists.html#cb99-2" tabindex="-1"></a>first_element <span class="ot">&lt;-</span> my_list[<span class="dv">1</span>]</span>
<span id="cb99-3"><a href="lists.html#cb99-3" tabindex="-1"></a><span class="fu">str</span>(first_element)</span></code></pre></div>
<pre><code>## List of 1
##  $ seq_example: num [1:5] 13 10 7 4 1</code></pre>
<p>Оператор <code>[[</code> позволяет вызвать значения вызываемых элементов списка. Так, <code>my_list[[1]]</code> вызовет не первый элемент в виде списка, а значения первого элемента в виде вектора (как они и были заданы):</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="lists.html#cb101-1" tabindex="-1"></a><span class="co"># выберем значения первого элемента списка</span></span>
<span id="cb101-2"><a href="lists.html#cb101-2" tabindex="-1"></a>first_element_values <span class="ot">&lt;-</span> my_list[[<span class="dv">1</span>]]</span>
<span id="cb101-3"><a href="lists.html#cb101-3" tabindex="-1"></a><span class="fu">str</span>(first_element_values)</span></code></pre></div>
<pre><code>##  num [1:5] 13 10 7 4 1</code></pre>
<p>Также для именованных списков можно использовать выделение по имени элемента. Для указания элемента списка используется оператор <code>$</code> и конструкция вида <code>list_name$element_name</code>. Например:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="lists.html#cb103-1" tabindex="-1"></a><span class="co"># смотрим на список</span></span>
<span id="cb103-2"><a href="lists.html#cb103-2" tabindex="-1"></a>my_list</span></code></pre></div>
<pre><code>## $seq_example
## [1] 13 10  7  4  1
## 
## $rep_example
## [1] &quot;c&quot; &quot;c&quot; &quot;c&quot;
## 
## $atomic_example
## [1] TRUE</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="lists.html#cb105-1" tabindex="-1"></a><span class="co"># выбираем элемент seq_example</span></span>
<span id="cb105-2"><a href="lists.html#cb105-2" tabindex="-1"></a><span class="fu">str</span>(my_list<span class="sc">$</span>seq_example)</span></code></pre></div>
<pre><code>##  num [1:5] 13 10 7 4 1</code></pre>
</div>
</div>
<div id="структура-объектов" class="section level2 unnumbered hasAnchor">
<h2>Структура объектов<a href="lists.html#структура-объектов" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Нередко при работе с разными объектами необходимо получить сводную информацию об объекте - класс объекта, иерархию элементов объекта, первые значения каждого элемента и так далее. Для этих целей используется функция <code>str()</code> (от <code>structure</code>), которая выводит каждый элемент объекта в виде вектора значений. Например, при просмотре структуры таблицы <code>iris</code> мы получаем класс объекта (<code>data.frame</code>), количество строк и столбцов, название колонок, тип элементов и первые десять значений каждой колонки:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="lists.html#cb107-1" tabindex="-1"></a><span class="fu">str</span>(iris)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>При просмотре структуры списка, который в качестве одного из элементов содержит другой список, точно также отображается каждый элемент списка, его тип, в том числе и типы и элементы вложенного списка. Вложенный список дополнительно выделен точками и отступом:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="lists.html#cb109-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">e1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb109-2"><a href="lists.html#cb109-2" tabindex="-1"></a>          <span class="at">e2 =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb109-3"><a href="lists.html#cb109-3" tabindex="-1"></a>          <span class="at">e3 =</span> <span class="fu">list</span>(<span class="at">e31 =</span> <span class="fu">rnorm</span>(<span class="dv">5</span>), </span>
<span id="cb109-4"><a href="lists.html#cb109-4" tabindex="-1"></a>                    <span class="at">e32 =</span> <span class="fu">runif</span>(<span class="dv">5</span>)))</span>
<span id="cb109-5"><a href="lists.html#cb109-5" tabindex="-1"></a><span class="fu">str</span>(x)</span></code></pre></div>
<pre><code>## List of 3
##  $ e1: int [1:5] 1 2 3 4 5
##  $ e2: chr [1:5] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ e3:List of 2
##   ..$ e31: num [1:5] 0.983 -0.622 -0.732 -0.517 -1.751
##   ..$ e32: num [1:5] 0.8106 0.5257 0.9147 0.8313 0.0458</code></pre>
</div>
<div id="таблицы" class="section level2 unnumbered hasAnchor">
<h2>Таблицы<a href="lists.html#таблицы" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Таблица — это набор наблюдений по строкам и пространство признаков этих наблюдений в виде набора колонок. Базовый тип для табли в R - <code>data.frame</code>. На уровне структуры <code>data.frame</code> — это все те же списки, в которых могут храниться разные по типу объекты, однако с требованием равенства длины объектов. Важно: все значения одной колонки могут быть только одного типа (потому что это, по сути, векторы), а не как в Excel, OpenOffice или каком другом табличном процессоре.</p>
<div id="data.frame-vs-data.table-vs-dplyr" class="section level3 unnumbered hasAnchor">
<h3>data.frame vs data.table vs dplyr<a href="lists.html#data.frame-vs-data.table-vs-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Несмотря на то, что базовый тип таблиц это <code>data.frame</code>, в настоящее время используются варианты надстроек над этим типом: формат <code>data.table</code> или формат <code>tibble</code> из пактов <code>data.table</code> и <code>dplyr</code> соответственно. Различить их можно по элементам синтаксиса. В частности, <code>data.frame</code> почти всегда использует оператор <code>$</code> (<code>my_table$my_var</code>), в <code>data.table</code> активно используется оператор <code>:=</code>, а в <code>tibble</code> - оператор <code>%&gt;%</code>.</p>
<p>Пример создания таблицы и выбора строки по условию <code>в data.frame</code>:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="lists.html#cb111-1" tabindex="-1"></a><span class="co"># создаем таблицу</span></span>
<span id="cb111-2"><a href="lists.html#cb111-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb111-3"><a href="lists.html#cb111-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb111-4"><a href="lists.html#cb111-4" tabindex="-1"></a>  <span class="at">var1 =</span> <span class="fu">sample</span>(letters, <span class="dv">5</span>),</span>
<span id="cb111-5"><a href="lists.html#cb111-5" tabindex="-1"></a>  <span class="at">var2 =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb111-6"><a href="lists.html#cb111-6" tabindex="-1"></a>)</span>
<span id="cb111-7"><a href="lists.html#cb111-7" tabindex="-1"></a><span class="co"># смотрим результат</span></span>
<span id="cb111-8"><a href="lists.html#cb111-8" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>##   var1 var2
## 1    p    1
## 2    v    5
## 3    e    2
## 4    l    3
## 5    o    4</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="lists.html#cb113-1" tabindex="-1"></a><span class="co"># обращаемся к значениям первой колонки</span></span>
<span id="cb113-2"><a href="lists.html#cb113-2" tabindex="-1"></a>df<span class="sc">$</span>var1</span></code></pre></div>
<pre><code>## [1] &quot;p&quot; &quot;v&quot; &quot;e&quot; &quot;l&quot; &quot;o&quot;</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="lists.html#cb115-1" tabindex="-1"></a><span class="co"># выводим все строки, где в колонке var2 значения меньше или равны 3</span></span>
<span id="cb115-2"><a href="lists.html#cb115-2" tabindex="-1"></a>df[df<span class="sc">$</span>var2 <span class="sc">&lt;=</span> <span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>##   var1 var2
## 1    p    1
## 3    e    2
## 4    l    3</code></pre>
<p>Аналогичные операции в <code>tibble</code>-формате:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="lists.html#cb117-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb117-2"><a href="lists.html#cb117-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb117-3"><a href="lists.html#cb117-3" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb117-4"><a href="lists.html#cb117-4" tabindex="-1"></a>  <span class="at">var1 =</span> <span class="fu">sample</span>(letters, <span class="dv">5</span>),</span>
<span id="cb117-5"><a href="lists.html#cb117-5" tabindex="-1"></a>  <span class="at">var2 =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb117-6"><a href="lists.html#cb117-6" tabindex="-1"></a>)</span>
<span id="cb117-7"><a href="lists.html#cb117-7" tabindex="-1"></a>dp <span class="sc">%&gt;%</span> </span>
<span id="cb117-8"><a href="lists.html#cb117-8" tabindex="-1"></a>  <span class="fu">filter</span>(var2 <span class="sc">&lt;=</span> <span class="dv">3</span>) </span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   var1   var2
##   &lt;chr&gt; &lt;int&gt;
## 1 p         1
## 2 e         2
## 3 l         3</code></pre>
</div>
</div>
<div id="data.table" class="section level2 unnumbered hasAnchor">
<h2>data.table<a href="lists.html#data.table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="преимущества-data.table" class="section level3 unnumbered hasAnchor">
<h3>Преимущества data.table<a href="lists.html#преимущества-data.table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>высокая скорость IO / манипуляций (<a href="https://h2oai.github.io/db-benchmark/">бенчмарки</a>)</p></li>
<li><p>параллелизация вычислений по умолчанию</p></li>
<li><p>опирается только на base R</p></li>
<li><p>лаконичность выражений</p></li>
<li><p>бережные апдейты</p></li>
<li><p>забота об обратной совместимости</p></li>
</ul>
</div>
<div id="установка-и-подключение-пакета" class="section level3 unnumbered hasAnchor">
<h3>Установка и подключение пакета<a href="lists.html#установка-и-подключение-пакета" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="lists.html#cb119-1" tabindex="-1"></a><span class="co"># устанавливаем пакет (однократно)</span></span>
<span id="cb119-2"><a href="lists.html#cb119-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;data.table&#39;</span>)</span>
<span id="cb119-3"><a href="lists.html#cb119-3" tabindex="-1"></a></span>
<span id="cb119-4"><a href="lists.html#cb119-4" tabindex="-1"></a><span class="co"># подключаем пакет (при каждой сессии)</span></span>
<span id="cb119-5"><a href="lists.html#cb119-5" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code></pre></div>
</div>
</div>
<div id="создание-data.table-таблиц" class="section level2 unnumbered hasAnchor">
<h2>Создание data.table-таблиц<a href="lists.html#создание-data.table-таблиц" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Создать <code>data.table</code> можно следующим образом (синтаксис немного напоминает создание именованного списка, как и для всех форматов таблиц):</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="lists.html#cb120-1" tabindex="-1"></a><span class="co"># подключаем пакет, если не был подключен ранее</span></span>
<span id="cb120-2"><a href="lists.html#cb120-2" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     between, first, last</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="lists.html#cb123-1" tabindex="-1"></a><span class="co"># создаем датасет</span></span>
<span id="cb123-2"><a href="lists.html#cb123-2" tabindex="-1"></a>dt1 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb123-3"><a href="lists.html#cb123-3" tabindex="-1"></a>  <span class="at">month_names =</span> month.name,</span>
<span id="cb123-4"><a href="lists.html#cb123-4" tabindex="-1"></a>  <span class="at">month_abb =</span> month.abb,</span>
<span id="cb123-5"><a href="lists.html#cb123-5" tabindex="-1"></a>  <span class="at">month_ord =</span> <span class="fu">seq_len</span>(<span class="fu">length</span>(month.abb)),</span>
<span id="cb123-6"><a href="lists.html#cb123-6" tabindex="-1"></a>  <span class="at">is_winter =</span> <span class="fu">grepl</span>(<span class="st">&#39;Jan|Dec|Feb&#39;</span>, month.abb)</span>
<span id="cb123-7"><a href="lists.html#cb123-7" tabindex="-1"></a>)</span>
<span id="cb123-8"><a href="lists.html#cb123-8" tabindex="-1"></a><span class="fu">print</span>(dt1)</span></code></pre></div>
<pre><code>##     month_names month_abb month_ord is_winter
##  1:     January       Jan         1      TRUE
##  2:    February       Feb         2      TRUE
##  3:       March       Mar         3     FALSE
##  4:       April       Apr         4     FALSE
##  5:         May       May         5     FALSE
##  6:        June       Jun         6     FALSE
##  7:        July       Jul         7     FALSE
##  8:      August       Aug         8     FALSE
##  9:   September       Sep         9     FALSE
## 10:     October       Oct        10     FALSE
## 11:    November       Nov        11     FALSE
## 12:    December       Dec        12      TRUE</code></pre>
</div>
<div id="основная-формула-dt-синтаксиса" class="section level2 unnumbered hasAnchor">
<h2>Основная формула dt-синтаксиса<a href="lists.html#основная-формула-dt-синтаксиса" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="pics/dt_syntax.png" /></p>
<p>Общая формула <code>data.table</code> выглядит как <code>dataset[выбор строк, операции над колонками, группировка]</code>. То есть, указание, какие строки необходимо выделить, осуществляется в первой части (до первой запятой в синтаксисе <code>data.table</code>). Если нет необходимости выделять какие-то строки, перед первой запятой ничего не ставится. Параметр группировки (как и прочие параметры, кроме <code>i</code> и <code>j</code> - опциональны).</p>
<p>Также можно провести параллели с синтаксисом SQL-запроса. В терминах SQL data.table-выражения выглядят как <code>таблица[where, select, group by]</code>.</p>
</div>
<div id="создание-data.table-таблиц-1" class="section level2 unnumbered hasAnchor">
<h2>Создание data.table-таблиц<a href="lists.html#создание-data.table-таблиц-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Создать <code>data.table</code> можно следующим образом (синтаксис немного напоминает создание именованного списка, как и для всех форматов таблиц):</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="lists.html#cb125-1" tabindex="-1"></a><span class="co"># подключаем пакет, если не был подключен ранее</span></span>
<span id="cb125-2"><a href="lists.html#cb125-2" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb125-3"><a href="lists.html#cb125-3" tabindex="-1"></a></span>
<span id="cb125-4"><a href="lists.html#cb125-4" tabindex="-1"></a><span class="co"># создаем датасет</span></span>
<span id="cb125-5"><a href="lists.html#cb125-5" tabindex="-1"></a>dt1 <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb125-6"><a href="lists.html#cb125-6" tabindex="-1"></a>  <span class="at">month_names =</span> month.name,</span>
<span id="cb125-7"><a href="lists.html#cb125-7" tabindex="-1"></a>  <span class="at">month_abb =</span> month.abb,</span>
<span id="cb125-8"><a href="lists.html#cb125-8" tabindex="-1"></a>  <span class="at">month_ord =</span> <span class="fu">seq_len</span>(<span class="fu">length</span>(month.abb)),</span>
<span id="cb125-9"><a href="lists.html#cb125-9" tabindex="-1"></a>  <span class="at">is_winter =</span> <span class="fu">grepl</span>(<span class="st">&#39;Jan|Dec|Feb&#39;</span>, month.abb)</span>
<span id="cb125-10"><a href="lists.html#cb125-10" tabindex="-1"></a>)</span>
<span id="cb125-11"><a href="lists.html#cb125-11" tabindex="-1"></a><span class="fu">print</span>(dt1)</span></code></pre></div>
<pre><code>##     month_names month_abb month_ord is_winter
##  1:     January       Jan         1      TRUE
##  2:    February       Feb         2      TRUE
##  3:       March       Mar         3     FALSE
##  4:       April       Apr         4     FALSE
##  5:         May       May         5     FALSE
##  6:        June       Jun         6     FALSE
##  7:        July       Jul         7     FALSE
##  8:      August       Aug         8     FALSE
##  9:   September       Sep         9     FALSE
## 10:     October       Oct        10     FALSE
## 11:    November       Nov        11     FALSE
## 12:    December       Dec        12      TRUE</code></pre>
</div>
<div id="выбор-строки" class="section level2 unnumbered hasAnchor">
<h2>Выбор строки<a href="lists.html#выбор-строки" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Выбор строк в <code>data.table</code> осуществляется аналогично выбору элементов в векторе: по номеру строки или по какому-то условию. При выборе по номеру строки также можно указать вектор номеров строк, которые необходимо вернуть. При выборке строки по условию проверяется, удовлетворяет ли условию каждый элемент строки в определенной колонке, и если удовлетворяет, выделяется вся строка.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="lists.html#cb127-1" tabindex="-1"></a><span class="co">#  выбор по одному номеру строки</span></span>
<span id="cb127-2"><a href="lists.html#cb127-2" tabindex="-1"></a>dt1[<span class="dv">1</span>, ]</span></code></pre></div>
<pre><code>##    month_names month_abb month_ord is_winter
## 1:     January       Jan         1      TRUE</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="lists.html#cb129-1" tabindex="-1"></a><span class="co"># выбор по нескольким номерам строк</span></span>
<span id="cb129-2"><a href="lists.html#cb129-2" tabindex="-1"></a><span class="co"># сначала создаем вектор номеров строк</span></span>
<span id="cb129-3"><a href="lists.html#cb129-3" tabindex="-1"></a>my_rows <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>)</span>
<span id="cb129-4"><a href="lists.html#cb129-4" tabindex="-1"></a></span>
<span id="cb129-5"><a href="lists.html#cb129-5" tabindex="-1"></a><span class="co"># выводим строки, которые мы указали в векторе</span></span>
<span id="cb129-6"><a href="lists.html#cb129-6" tabindex="-1"></a>dt1[my_rows]</span></code></pre></div>
<pre><code>##    month_names month_abb month_ord is_winter
## 1:    February       Feb         2      TRUE
## 2:         May       May         5     FALSE
## 3:      August       Aug         8     FALSE</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="lists.html#cb131-1" tabindex="-1"></a><span class="co"># или, аналогично, сразу указываем, какие строки хотим выделить</span></span>
<span id="cb131-2"><a href="lists.html#cb131-2" tabindex="-1"></a>dt1[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>)]</span></code></pre></div>
<pre><code>##    month_names month_abb month_ord is_winter
## 1:    February       Feb         2      TRUE
## 2:         May       May         5     FALSE
## 3:      August       Aug         8     FALSE</code></pre>
<p>Выбор по условию: мы сразу указываем название колонки, к значениям которых будем применять условие-фильтр. Писать в стиле <code>dt1[dt1$month_ord &lt;= 3]</code> избыточно, data.table понимает просто название колонки.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="lists.html#cb133-1" tabindex="-1"></a><span class="co"># выводим все строки, в которых в колонке month_ord значения меньше или равны 3</span></span>
<span id="cb133-2"><a href="lists.html#cb133-2" tabindex="-1"></a>dt1[month_ord <span class="sc">&lt;=</span> <span class="dv">3</span>]</span></code></pre></div>
<pre><code>##    month_names month_abb month_ord is_winter
## 1:     January       Jan         1      TRUE
## 2:    February       Feb         2      TRUE
## 3:       March       Mar         3     FALSE</code></pre>
</div>
<div id="дополнительные-материалы-1" class="section level2 unnumbered hasAnchor">
<h2>Дополнительные материалы<a href="lists.html#дополнительные-материалы-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://textbook.rintro.ru/installation.html#installation-packages">Про пакеты и их установку</a></p>
<p><a href="https://textbook.rintro.ru/objectinfo.html">Получение информации об объекте</a></p>
<p>Моя серия <a href="https://webinars.rintro.ru/data-manipulations.html">вебинаров</a> по data.table. Есть как запись, так и конспект. На занятиях мы будем рассматривать лишь половину или треть материала вебинаров.</p>
<p><a href="https://atrebas.github.io/post/2019-03-03-datatable-dplyr">Базовые операции одновременно в data.table и dplyr-синтаксисе</a>. Много полезных приемов, и, в целом, наглядно. Смотрите блоки по data.table, dplyr синтаксис можно игнорировать или смотреть для общего развития (это весьма часто используемый синтаксис в академии).</p>
<p><a href="https://bookdown.org/statist_/DataTableManual/01_data.table_intro.html">Перевод документации data.table от Андрея Огурцова</a>. Полезно для понимания разных нюансов работы data.table</p>
<p><a href="http://brooksandrew.github.io/simpleblog/articles/advanced-data-table">Продвинутый data.table</a> для желающих, много неочевидных нюансов и трюков.</p>
<p><a href="http://jeffmax.io/notes-on-datatable-in-r.html">Экзотические возможности и ключевые слова</a>, для совсем экстремалов. Заметка важна в первую очередь внутренними ссылками на разные релевантные и поясняющие ресурсы.</p>
<p>Интересный <a href="https://atrebas.github.io/post/2020-06-14-datatable-pandas/">сайт</a>, где каждой конструкции в pandas дана аналогичная конструкция в data.table. Некоторые конструкции, правда, избыточны или переусложнены, но в целом сопоставление адекватное.</p>
<p><br></p>
</div>
<div id="домашнее-задание-2" class="section level2 unnumbered hasAnchor">
<h2>Домашнее задание<a href="lists.html#домашнее-задание-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="векторы-2" class="section level3 unnumbered hasAnchor">
<h3>векторы<a href="lists.html#векторы-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Умножьте каждый элемент вектора <code>vec &lt;- sample(10)</code> на 2.</p></li>
<li><p>Вычислите корень из каждого элемента вектора <code>vec</code>. Округлите значения до второго знака. В принципе для этого достаточно выражения длиной в 16 символов.</p></li>
<li><p>выполните выражение <code>paste('blabla', 1:3, letters [1:2], month.abb[1:4])</code>. Разберитесь, почему получился такой результат.</p></li>
</ul>
</div>
<div id="списки-1" class="section level3 unnumbered hasAnchor">
<h3>списки<a href="lists.html#списки-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Код ниже создает иллюстрирует дисперсионный анализ. Прочитайте справки по <code>iris</code> и <code>aov</code>. Выполните выражения.</li>
</ul>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="lists.html#cb135-1" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb135-2"><a href="lists.html#cb135-2" tabindex="-1"></a>aov_stats <span class="ot">&lt;-</span> <span class="fu">aov</span>(Sepal.Length <span class="sc">~</span> Species, iris)</span>
<span id="cb135-3"><a href="lists.html#cb135-3" tabindex="-1"></a>aov_stats_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(aov_stats)</span></code></pre></div>
<ul>
<li><p>Выведите на печать объект <code>aov_stats_summary</code>. Выведите на печать и проанализируйте структуру объекта.</p></li>
<li><p>***Выведите на печать уровень значимости (Pr(&gt;F))</p></li>
</ul>
</div>
<div id="таблицы.-импорт-данных" class="section level3 unnumbered hasAnchor">
<h3>таблицы. импорт данных<a href="lists.html#таблицы.-импорт-данных" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>подключите библиотеку data.table (установите, если не была установлена)</li>
<li>скачайте файл <a href="https://gitlab.com/hse_mar/mar221s/-/raw/master/data/titanic3.csv">titanic3.csv</a>: <a href="https://gitlab.com/hse_mar/mar221s/-/raw/master/data/titanic3.csv" class="uri">https://gitlab.com/hse_mar/mar221s/-/raw/master/data/titanic3.csv</a>.</li>
<li><ul>
<li>с помощью команды <code>titanic &lt;- fread('titanic3.csv')</code> импортируйте файл в рабочее окружение. Прочитайте справку по функции <code>fread()</code> и попробуйте импортировать данные без явного сохранения на диск (не сработает с файлом в слаке).</li>
</ul></li>
<li>** попробуйте написать код, в котором сначала происходит сохранение файла на диск, а потом чтение файла в рабочее окружение R (чтобы не руками сохранять, а кодом).</li>
<li>посмотрите с помощью команды <code>class()</code> объекта. Если он отличается от <code>data.table</code> — преобразуйте в data.table с помощью функции <code>as.data.table()</code></li>
</ul>
</div>
<div id="работа-со-строками" class="section level3 unnumbered hasAnchor">
<h3>работа со строками<a href="lists.html#работа-со-строками" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>выберите случайным образом 5 строк из таблицы <code>titanic</code></li>
<li>выберите те строки, где возраст пассажира меньше 1 (младенцы)</li>
<li>выберите те строки, где возраст пассажира в диапазоне 20 до 50 лет</li>
<li>выберите строки по выжившим младенцам (survived)</li>
<li>выберите пассажирок, которые имеют титул <code>lady</code></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="vectors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data.table-pt1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
